#include <stdio.h>
#include <stdlib.h>
int main(){
	
	char matriz[3][3], opc;
	int i, j, c=0, num;
	
	printf("Juego del gato!\n");
	
	matriz[0][0]='0';
	matriz[0][1]='1';
	matriz[0][2]='2';
	matriz[1][0]='3';
	matriz[1][1]='4';
	matriz[1][2]='5';
	matriz[2][0]='6';
	matriz[2][1]='7';
	matriz[2][2]='8';
	for(i=0; i<3; i++){
		for(j=0; j<3; j++){
			
			printf("[%c]", matriz[i][j]);
		}
		printf("\n");
	}
	
	printf("\n\nPresione (Y) para jugar / (N) para salir: ");
	scanf("%c", &opc);
	
	int fila, col, ganador=0, turno=1;
	
	if(opc == 'Y' || opc == 'y'){
		
		do{
			if(turno%2==1){
				do{
					printf("\nJugador 1: \n");
					printf("Digite el numero: ");
					scanf("%d", &num);
					if(num==0){
						fila=0;
						col=0;
					}
					if(num==1){
						fila=0;
						col=1;
					}
					if(num==2){
						fila=0;
						col=2;
					}
					if(num==3){
						fila=1;
						col=0;
					}
					if(num==4){
						fila=1;
						col=1;
					}
					if(num==5){
						fila=1;
						col=2;
					}
					if(num==6){
						fila=2;
						col=0;
					}
					if(num==7){
						fila=2;
						col=1;
					}
					if(num==8){
						fila=2;
						col=2;
					}
					if(matriz[fila][col] == 'x' || matriz[fila][col] == 'o' || num < 0 || num > 8){
						printf("\nCoordenadas no validas, pruebe otra vez.\n");
					}
				}while(matriz[fila][col] == 'x' || matriz[fila][col] == 'o' || num < 0 || num > 8);
				
				matriz[fila][col]='x';
				system("cls");
				for(i=0; i<3; i++){
					for(j=0; j<3; j++){
						printf("[%c]", matriz[i][j]);
					}
					printf("\n");
				}
				turno++;
			} else if(turno%2==0){
				do{
					printf("\nJugador 2: \n");
					printf("Digite el numero: ");
					scanf("%d", &num);
					if(num==0){
						fila=0;
						col=0;
					}
					if(num==1){
						fila=0;
						col=1;
					}
					if(num==2){
						fila=0;
						col=2;
					}
					if(num==3){
						fila=1;
						col=0;
					}
					if(num==4){
						fila=1;
						col=1;
					}
					if(num==5){
						fila=1;
						col=2;
					}
					if(num==6){
						fila=2;
						col=0;
					}
					if(num==7){
						fila=2;
						col=1;
					}
					if(num==8){
						fila=2;
						col=2;
					}
					if(matriz[fila][col] == 'x' || matriz[fila][col] == 'o' || num < 0 || num > 8){
						printf("\nCoordenadas no validas, pruebe otra vez.\n");
					}
				} while(matriz[fila][col] == 'x' || matriz[fila][col] == 'o' || num < 0 || num > 8);
				
				matriz[fila][col]='o';
				system("cls");
				
				for(i=0; i<3; i++){
					for(j=0; j<3; j++){
						printf("[%c]", matriz[i][j]);
					}
					printf("\n");
				}
				turno++;
			}
			
			if(matriz[0][0] == 'x' && matriz[0][0] == matriz[0][1] && matriz[0][0] == matriz[0][2]
			|| matriz[1][0] == 'x' && matriz[1][0] == matriz[1][1] && matriz[1][0] == matriz[1][2]
			|| matriz[2][0] == 'x' && matriz[2][0] == matriz[2][1] && matriz[2][0] == matriz[2][2]
			
			|| matriz[0][0] == 'x' && matriz[0][0] == matriz[1][0] && matriz[0][0] == matriz[2][0]
			|| matriz[0][1] == 'x' && matriz[0][1] == matriz[1][1] && matriz[0][1] == matriz[2][1]
			|| matriz[0][2] == 'x' && matriz[0][2] == matriz[1][2] && matriz[0][2] == matriz[2][2]
			
			|| matriz[0][0] == 'x' && matriz[0][0] == matriz[1][1] && matriz[0][0] == matriz[2][2]
			|| matriz[0][2] == 'x' && matriz[0][2] == matriz[1][1] && matriz[0][2] == matriz[2][0]){
				ganador=1;
				printf("\nFelicidades! Gano el jugador 1.\n");
			}
			if(matriz[0][0] == 'o' && matriz[0][0] == matriz[0][1] && matriz[0][0] == matriz[0][2]
			|| matriz[1][0] == 'o' && matriz[1][0] == matriz[1][1] && matriz[1][0] == matriz[1][2]
			|| matriz[2][0] == 'o' && matriz[2][0] == matriz[2][1] && matriz[2][0] == matriz[2][2]
			
			|| matriz[0][0] == 'o' && matriz[0][0] == matriz[1][0] && matriz[0][0] == matriz[2][0]
			|| matriz[0][1] == 'o' && matriz[0][1] == matriz[1][1] && matriz[0][1] == matriz[2][1]
			|| matriz[0][2] == 'o' && matriz[0][2] == matriz[1][2] && matriz[0][2] == matriz[2][2]
			
			|| matriz[0][0] == 'o' && matriz[0][0] == matriz[1][1] && matriz[0][0] == matriz[2][2]
			|| matriz[0][2] == 'o' && matriz[0][2] == matriz[1][1] && matriz[0][2] == matriz[2][0]){
				ganador=1;
				printf("\nFelicidades! Gano el jugador 2.\n");
			}
			
		} while(ganador != 1);
	}
	return 0;
}
